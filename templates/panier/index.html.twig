{% extends 'base.html.twig' %}

{% block title %}Panier{% endblock %}

{% block body %}
{% if articles | length > 0 %}
    <table class="panier">
        <tr>
            <th class="panier">Produit</th>
            <th class="panier">Prix</th>
            <th class="panier">Description</th>
            <th class="panier">Image</th>
            <th class="panier">Quantité</th>
            <th class="panier">Sous-total</th>
            <th class="panier">Supp</th>
        </tr>
        <tbody >
            {% for article in articles %}
            <tr>
                <td class="panier">{{article.produit.nom}}</td>
                <td class="panier">{{article.produit.prix /100}}€</td>
                <td class="panier">{{article.produit.description | raw}}</td>
                <td class="panier"><img class="imgPanier" src="/assets/img/{{article.produit.image}}"></td>
                <td class="panier">
                    <a href="{{path ('app_panier_upQtt',{'id' : article.produit.id }) }}"><i class="fas fa-plus"></i></a>
                        {{article.quantite}}
                    <a href="{{path ('app_panier_downQtt',{'id': article.produit.id}) }}"><i class="fas fa-minus"></i></a>
                </td>
                <td class="panier">{{article.produit.prix * article.quantite /100}}€</td>
                <td class="panier"><a href="{{path ('app_panier_remove', {'id': article.produit.id }) }}" class="btn"><i class="fas fa-trash"></i></a></td>
               {% endfor %}
            </tr>
        </tbody>
        <tfoot>
        <tr>
            <td class="total" colspan="4"></td>
            <td class="total" colspan="1">Article(s) : {{totalArticle}}</td>
            <td colspan="1">Total : {{ total /100}}€</td>
            
        </tfoot>
    </table>
    <button class="panierV"><a class="textBtnP" href="{{path ('app_commande_new')}}">Valider le panier</a></button>
{% else %}
    <p >Le pannier est vide</p>
{% endif %}

{% endblock %}
